<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Shawty - Online Multiplayer Shooter</title>
    <link rel="stylesheet" href="style.css">
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.159.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.159.0/examples/jsm/"
        }
    }
    </script>
</head>
<body>
    <div id="loading-screen">
        <h1>Shawty</h1>
        <p id="loading-status">Loading...</p>
        <div id="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
    </div>

    <div id="home-menu" style="display: none;">
        <h2>Shawty</h2>
        <input type="text" id="playerNameInput" maxlength="15" placeholder="Enter Your Name">
        <div id="character-selector">
            <p>Select Character:</p>
            <button class="char-select-btn selected" data-char="Shawty">Shawty</button>
            <!-- Add more when you have more models -->
        </div>
        <p>Players Online: <span id="playersOnlineHome">0</span></p>
        <button id="playButton">Enter City Rooftops</button>
        <p id="home-menu-message" class="system-message"></p>
    </div>

    <div id="game-container" style="display: none;">
        <canvas id="game-canvas"></canvas>
        <div id="game-ui">
            <div id="crosshair">+</div>
            <div id="chat-display">
                <ul id="chat-messages"></ul>
            </div>
            <input type="text" id="chat-input" placeholder="Press T to type, Enter to send" style="display: none;">
            
            <div id="game-info">
                <p>Map: <span id="currentMapName">city rooftops</span></p>
                <p>Time: <span id="timeLeft">5:00</span></p>
                <p>Kills: <span id="playerKills">0</span></p>
                <p>Online: <span id="playersOnlineGame">0</span></p>
            </div>

            <div id="leaderboard" style="display: none;">
                <h3>Leaderboard (L to toggle)</h3>
                <ul id="leaderboard-list"></ul>
            </div>
            <div id="announcement-bar"></div> <!-- For death logs, join logs -->
        </div>
    </div>
    
    <!-- Make sure this path is correct based on your server setup for Socket.IO client -->
    <!-- If Render serves this, it will work. If GitHub pages, connect to your Render URL. -->
    <script src="https://gametest-psxl.onrender.com/socket.io/socket.io.js"></script>
    <!-- For local dev: <script src="/socket.io/socket.io.js"></script> -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
